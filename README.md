# Домашнее задание к занятию "Репликация и масштабирование. Часть 1" - `Вялов владислав`


### Задание 1

Задание 
Опишите основные преимущества использования масштабирования методами:

активный master-сервер и пассивный репликационный slave-сервер;
master-сервер и несколько slave-серверов;
Дайте ответ в свободной форме.

Ответ  
Основные преимущества активного master-сервер и пассивного репликационного slave-сервера:

Если master-сервер выходит из строя, slave-сервер можно вручную или с помощью инструментов оркестрации переключить в режим master, минимизировав время простоя приложения, Резервные копии (бэкапы) можно создавать с slave-сервера, не создавая нагрузки на master и не влияя на его производительность для пользователей, хотя slave один, на него можно направлять некоторые запросы на чтение (например, для аналитических отчетов), разгружая тем самым master-сервер. Это позволяет отделить "тяжелые" read-операции от критичных транзакций.

Slave-сервер можно разместить в другом регионе для локального доступа пользователей или в качестве "горячей" резервной копии в другом дата-центре, конфигурация относительно проста в настройке и понимании по сравнению с кластерными решениями.


Основные преимущества master-сервер и несколько slave-серверов:

Нагрузку на чтение можно распределить между несколькими slave-серверами, можно просто добавлять новые slave-серверы по мере роста нагрузки, при выходе из строя одного slave-сервера другие продолжают работать, и нагрузка на чтение перераспределяется между ними. Система становится более устойчивой

Разные slave-серверы можно использовать для разных целей:

Один — для выполнения аналитических запросов (OLAP).

Другой — для обслуживания основного веб-приложения (OLTP).

Третий — исключительно для бэкапов.

Slave-серверы можно размещать в различных географических локациях, чтобы пользователи из разных регионов получали данные с ближайшего сервера, снижая задержку (latency).

### Задание 2

Задание 
Разработайте план для выполнения горизонтального и вертикального шаринга базы данных. База данных состоит из трёх таблиц:

пользователи,
книги,
магазины (столбцы произвольно).
Опишите принципы построения системы и их разграничение или разбивку между базами данных.

Пришлите блоксхему, где и что будет располагаться. Опишите, в каких режимах будут работать сервера.

ответ

С помощью вертикального шардинга можно разбить БД на 3 части и хранить их на разных серверах.

![alt text](img/1.jpg)

С помощью горизонтального шардинга разбиваем одну большую таблицу book на несколько одинаковых с разными id, например в первой будут храниться данные о книгах с id_book <= 100, во второй с id_book > 101 and id_book <= 200, в третьей id_book > 200.

![alt text](img/2.jpg)
